"0","eeg_ages <-"
"0","  haven::read_sav(EEG_ages_file) %>% "
"0","  rename("
"0","    ID = Subject"
"0","  ) %>%"
"0","  select(-EEG_ageM_16, -EEG_ageY_16) %>% "
"0","  left_join(d0 %>% select(ID, bl_age_end), by = ""ID"") %>% "
"0","  left_join("
"0","    haven::read_sav(EEG_16yr_age_file) %>% "
"0","      select("
"0","        ID = Subject,"
"0","        EEG_ageM_16 = ageM_EEG_16"
"0","      ),"
"0","    by = ""ID"""
"0","  ) %>% "
"0","  gather("
"0","    eeg_key, "
"0","    age, "
"0","    EEG_ageM_0, EEG_ageM_1:EEG_ageM_5, EEG_ageM_8, EEG_ageM_12, EEG_ageM_16"
"0","  ) %>% "
"0","  select(-c(EEG_ageY_8:EEG_ageY_12)) %>% "
"0","  separate(eeg_key, into = c(""domain"", ""x"", ""eeg_key"")) %>% "
"0","  select(-x) %>% "
"0","  mutate_all(str_to_lower) %>% "
"0","  mutate_at("
"0","    vars(ID, bl_age_end, age),"
"0","    as.double"
"0","  ) %>% "
"0","  mutate("
"0","    age_diff_BL = abs(age - bl_age_end),"
"0","    age_diff_30 = abs(age - 30),"
"0","    age_diff_42 = abs(age - 42)"
"0","  ) %>% "
"0","  group_by(ID) %>% "
"0","  mutate("
"0","    min_age_diff = pmin("
"0","      age_diff_BL, "
"0","      age_diff_30, "
"0","      age_diff_42"
"0","    )"
"0","  ) %>% "
"0","  mutate("
"0","    wave = case_when("
"0","      eeg_key == ""8"" ~ ""8"","
"0","      eeg_key == ""12"" ~ ""12"","
"0","      eeg_key == ""16"" ~ ""16"","
"0","      eeg_key == ""0"" ~ ""BL"","
"0","      eeg_key == ""1"" & age >= 29 & age < 37 ~ ""30"","
"0","      eeg_key == ""1"" & age >= 41 & age < 54 ~ ""42"","
"0","      eeg_key == ""2"" & age >= 29 & age < 37 ~ ""30"","
"0","      eeg_key == ""3"" & age >= 29 & age < 37 ~ ""30"","
"0","      eeg_key == ""4"" & age >= 29 & age < 37 ~ ""30"","
"0","      eeg_key == ""2"" & age >= 41 & age < 54 ~ ""42"","
"0","      eeg_key == ""3"" & age >= 41 & age < 54 ~ ""42"","
"0","      eeg_key == ""4"" & age >= 41 & age < 54 ~ ""42"","
"0","      eeg_key == ""5"" & age >= 41 & age < 54 ~ ""42"""
"0","    )"
"0","  ) %>% "
"0","  #filter(!is.na(age)) %>% "
"0","  arrange(ID) %>% "
"0","  select(ID, age, wave)"
"2","Column `ID` has different attributes on LHS and RHS of join"
"2","Column `ID` has different attributes on LHS and RHS of join"
"2","attributes are not identical across measure variables;
they will be dropped"
